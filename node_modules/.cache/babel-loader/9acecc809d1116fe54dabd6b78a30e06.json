{"ast":null,"code":"import _classCallCheck from\"/Users/thomassimon/Desktop/simonthm5.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/thomassimon/Desktop/simonthm5.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/thomassimon/Desktop/simonthm5.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/thomassimon/Desktop/simonthm5.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import DataT from\"./dataT\";import Nav from\"./nav\";import API from\"../utils/API\";import React,{Component}from\"react\";var DataA=/*#__PURE__*/function(_Component){_inherits(DataA,_Component);var _super=_createSuper(DataA);function DataA(){var _this;_classCallCheck(this,DataA);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:[{}],order:\"descend\",filteredUsers:[{}]};_this.headings=[{name:\"Image\",width:\"15%\"},{name:\"Name\",width:\"25%\"},{name:\"Email\",width:\"15%\"},{name:\"Phone\",width:\"15%\"},{name:\"DOB\",width:\"20%\"}];_this.searchChange=function(event){console.log(event.target.value);var filter=event.target.value;var filteredList=_this.state.users.filter(function(item){//merge data together, then see if user input is antwhere inside\nvar values=Object.values(item).join(\"\").toLowerCase();return values.indexOf(filter.toLowerCase())!==-1;});_this.setState({filteredUsers:filteredList});};_this.sortUsers=function(heading){if(_this.state.order===\"descend\"){_this.setState({order:\"ascend\"});}else{_this.setState({order:\"descend\"});}var compareFunction=function compareFunction(a,b){if(_this.state.order===\"ascend\"){if(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}else if(heading===\"name\"){return a[heading].first.localeCompare(b[heading].first);}else{return a[heading]-b[heading];}}else{if(a[heading]===undefined){return 1;}else if(b[heading]===undefined){return-1;}else if(heading===\"name\"){return b[heading].first.localeCompare(a[heading].first);}else{return b[heading]-a[heading];}}};var sortComplete=_this.state.filteredUsers.sort(compareFunction);_this.setState({filteredUsers:sortComplete});};return _this;}_createClass(DataA,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;API.getUsers().then(function(results){_this2.setState({users:results.data.results,filteredUsers:results.data.results});});}//\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{handleSearchChange:this.searchChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-area\",children:[\"    \",/*#__PURE__*/_jsx(DataTable,{headings:this.headings,users:this.state.filteredUsers,sortUsers:this.sortUsers}),\" \"]})]});}}]);return DataA;}(Component);export{DataA as default};","map":{"version":3,"sources":["/Users/thomassimon/Desktop/simonthm5.github.io/src/components/dataA.js"],"names":["DataT","Nav","API","React","Component","DataA","state","users","order","filteredUsers","headings","name","width","searchChange","event","console","log","target","value","filter","filteredList","item","values","Object","join","toLowerCase","indexOf","setState","sortUsers","heading","compareFunction","a","b","undefined","first","localeCompare","sortComplete","sort","getUsers","then","results","data"],"mappings":"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","sourcesContent":["import DataT from \"./dataT\";\nimport Nav from \"./nav\";\nimport API from \"../utils/API\";\nimport React, { Component } from \"react\";\n\n\nexport default class DataA extends Component {\n\n    state = {\n        users: [{}],\n        order: \"descend\",\n        filteredUsers: [{}]\n    }\n\n\n    headings = [\n        { name: \"Image\", width: \"15%\" },\n        { name: \"Name\", width: \"25%\" },\n        { name: \"Email\", width: \"15%\" },\n        { name: \"Phone\", width: \"15%\" },\n        { name: \"DOB\", width: \"20%\" }\n    ]\n\n\n\n    componentDidMount(){\n        API.getUsers().then(results => {this.setState({\n                users: results.data.results,\n                filteredUsers: results.data.results\n            });\n        });\n    }\n\n\n    //\n    searchChange = event => {\n        console.log(event.target.value);\n        const filter = event.target.value;\n        const filteredList = this.state.users.filter(item => {\n            //merge data together, then see if user input is antwhere inside\n            let values = Object.values(item)\n            .join(\"\")\n            .toLowerCase();  return values.indexOf(filter.toLowerCase()) !== -1;\n        });  this.setState({filteredUsers: filteredList});\n    }\n\n\n\n    //\n    sortUsers= heading => {\n        if(this.state.order === \"descend\") {this.setState({order: \"ascend\"\n        })} else {this.setState({order: \"descend\"})}\n\n        const compareFunction = (a, b) => {\n            if (this.state.order === \"ascend\") {\n                if (a[heading] === undefined) {\n                    return 1;\n                } else if (b[heading] === undefined) {\n                    return -1;\n                }\n                else if (heading === \"name\") {return a[heading].first.localeCompare(b[heading].first);\n                } else {return a[heading] - b[heading];\n                } } else {\n                if (a[heading] === undefined) {\n                    return 1; } else if (b[heading] === undefined) {\n                    return -1; }    \n                else if (heading === \"name\") {\n                    return b[heading].first.localeCompare(a[heading].first);\n                } else {\n                    return b[heading] - a[heading];\n                } } }\n        const sortComplete = this.state.filteredUsers.sort(compareFunction);\n        this.setState({filteredUsers: sortComplete });\n    }\n    render() {\n        return (\n            <>\n                <Nav handleSearchChange={this.searchChange} />\n                <div className=\"data-area\">    <DataTable\n                    headings={this.headings}\n                    users={this.state.filteredUsers}\n                    sortUsers={this.sortUsers}\n                    /> </div></>);}}\n"]},"metadata":{},"sourceType":"module"}